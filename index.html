
<!-- Property of Mona Marie Corporation -->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>Hire Henry</title>
<!-- Standard favicon -->
<link rel="icon" href="assets/favicon_logo.png" type="image/png">

<!-- Optional: better support for multiple devices -->
<!-- <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon"> -->
<!-- <link rel="apple-touch-icon" href="assets/favicon_logo.png"> -->
<style>
  :root {
    --bg:#383939;
    --accent:#f8b719;
    --text:#e6eef6;
    --muted:#9fb0c2;
    --section-gap:0;
    --transition-duration:700ms;
  }

  * { box-sizing: border-box; }

  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden; /* ✅ Fix double scrollbar */
    background: var(--bg);
    color: var(--text);
    font-family: Inter, ui-sans-serif, system-ui, Segoe UI, Roboto, "Helvetica Neue", Arial;
  }

  /* Top menu */
  header {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 24px;
    z-index: 1000;
    background: linear-gradient(180deg, rgba(15,23,36,0.6), rgba(15,23,36,0.2));
    backdrop-filter: blur(6px);
  }

  main {
    width: 100%;
    height: 100%;
  }

  .menu {
    display: flex;
    gap: 20px;
    align-items: center;
    font-weight: 600;
  }
  .menu a {
    color: var(--text);
    text-decoration: none;
    opacity: .85;
    padding: 6px 8px;
  }

  .logo-spot img {
    height: 40px;
    width: auto;
  }

  /* Sections container */
  main { position: relative; overflow-x: hidden; }

  section {
    min-height: 100vh;   /* ✅ Fix: no forced overflow */
    height: auto;        /* expands naturally */
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 84px 6vw 48px;
    position: relative;
    transition: opacity var(--transition-duration) ease, transform var(--transition-duration) ease;
    opacity: 0;
    transform: translateY(20px) scale(.995);
    pointer-events: none;
  }

  section.active {
    opacity: 1;
    transform: none;
    pointer-events: auto;
  }

  /* general overlay for titles top-left */
  .section-title {
    position: absolute;
    top: 60px;
    left: 6vw;
    font-size: 28px;
    font-weight: 700;
    letter-spacing: 0.2px;
    z-index: 10;
    color: var(--text);
    margin-top: -2%;
  }

  /* Hero */
  .hero { position: relative; overflow: hidden; }
  .hero-image {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    opacity: 0;
    transition: opacity 1.5s ease;
  }
  .hero-image.show { opacity: 1; }
  .hero-message {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    font-size: 48px;
    font-weight: 700;
    color: #fff;
    opacity: 0;
    transition: opacity 1s ease;
  }
  .hero-message.show { opacity: 1; }

  /* Setup & Deployment */
  .two-images {
    width: 100%;
    max-width: 1200px;
    display: flex;
    gap: 18px;
    align-items: center;
    justify-content: center;
  }
  .two-images .img {
    flex: 1;
    height: 380px;
    border-radius: 10px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    border: 1px solid rgba(255,255,255,0.05);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--muted);
  }

  .setup-button {
    position: absolute;
    right: 6vw;
    bottom: 48px;
    padding: 10px 18px;
    background: var(--accent);
    color: #012;
    font-weight: 700;
    border-radius: 8px;
    text-decoration: none;
  }

  /* Technology carousel */
  .carousel {
    width: 100%;
    max-width: 960px;
    height: 420px;
    position: relative;
    overflow: hidden;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.04);
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
  }

  .carousel-title {
    position: absolute;
    top: 10px;
    left: 12px;
    padding: 6px 10px;
    border-radius: 6px;
    background: rgba(0,0,0,0.55);
    color: #fff;
    font-weight: 600;
    font-size: 14px;
    line-height: 1.2;
    z-index: 5;
    pointer-events: none;
    max-width: 70%;
  }

  #technology .slide > .caption { display: none; }
  .slides {
    display: flex;
    height: 100%;
    transition: transform 600ms cubic-bezier(.22,.9,.3,1);
  }
  .slide {
    min-width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .slide .img {
    width: 100%; height: 100%;
    border-radius: 10px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
  }
  .carousel-controls { position: absolute; bottom: 12px; left: 12px; display: flex; gap: 8px; }
  .dot { width: 10px; height: 10px; border-radius: 50%; background: rgba(255,255,255,0.15); }
  .dot.active { background: var(--accent); }
  .carousel-nav {
    position: absolute; top: 50%; transform: translateY(-50%);
    width: 100%; display: flex; justify-content: space-between;
    padding: 0 8px; pointer-events: none;
  }
  .carousel-nav button {
    pointer-events: auto;
    background: rgba(0,0,0,0.4);
    border: none;
    color: var(--text);
    padding: 8px;
    border-radius: 6px;
  }

  /* Grids */
  .grid {
    width: 100%;
    max-width: 1200px;
    display: grid;
    gap: 18px;
  }
  .grid-3x2 { grid-template-columns: repeat(3,1fr); grid-auto-rows:220px; }
  .grid-4x2 { grid-template-columns: repeat(4,1fr); grid-auto-rows:160px; }

  .card {
    background: linear-gradient(180deg, #2c2d2d, #2c2d2d);
    border-radius: 8px;
    padding: 10px;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: flex-start;
    gap: 8px;
    cursor: pointer;
    overflow: hidden;
    border: 1px solid rgba(255,255,255,0.03);
    position: relative;
  }
  .card .thumb {
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    background-color: #232424;
    width: 100%;
    height: 100%;
  }
  .card .caption { font-weight: 700; font-size: 14px; color: var(--text); }

  .bubble {
    position: absolute;
    max-width: 340px;
    min-width: 260px;
    padding: 16px 20px;
    border-radius: 12px;
    background: #fff;
    color: #000;
    font-size: 15px;
    line-height: 1.5;
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);
    z-index: 2000;
  }
  .bubble::after {
    content: "";
    position: absolute;
    top: 100%; left: 50%;
    transform: translateX(-50%);
    border-width: 10px;
    border-style: solid;
    border-color: #fff transparent transparent transparent;
  }

  /* Modal */
  .modal-backdrop {
    position: fixed; inset: 0; display: none;
    align-items: center; justify-content: center;
    z-index: 2000;
    background: rgba(2,6,23,0.7);
  }
  .modal-backdrop.open { display: flex; }
  .modal {
    width: min(880px,92%);
    max-height: 86vh;
    overflow: auto;
    background: #071226;
    padding: 20px;
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,0.04);
  }
  .modal h3 { margin: 0 0 8px 0; }
  .modal p { color: var(--muted); line-height: 1.5; }
  .modal .close {
    display: inline-block;
    margin-top: 12px;
    padding: 8px 12px;
    background: rgba(255,255,255,0.03);
    border-radius: 8px;
    color: var(--text);
    cursor: pointer;
  }

  /* Centered single image */
  .center-image {
    width: 520px;
    height: 360px;
    border-radius: 12px;
    background-size: cover;
    background-position: center;
  }

  /* FINAL SECTION (Contact / Demo) */
  .final {
    background: #ffffff;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;  /* ✅ changed */
    height: auto;       /* ✅ no forced 100vh */
    overflow: hidden;
    z-index: 1;
  }

  .final-image {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    z-index: 1;
  }

  .final-form {
    position: relative;
    z-index: 3;
    padding: 10px 10px;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .final-form label {
    font-size: 25px;
    margin-bottom: 8px;
    font-weight: bold;
    margin-left: -20%;
    color: #656565;
  }

  .final-form .input-row {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .final-form input[type="email"] {
    padding: 10px 14px;
    border: 1px solid #6f6e6e;
    border-radius: 6px;
    width: 250px;
     margin-bottom: 70%; /* remove the big margin */
  }
  .final-form button {
    padding: 10px 20px;
    background: #f8b719;
    color: #000000;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    white-space: nowrap;
    margin-bottom: 70%;
  }
  .final-form button:hover { background: #616161; }

  /* ===================
     Responsive
     =================== */
  @media (max-width:900px){
    .two-images { flex-direction: column; }
    .section-title { font-size: 20px; top: 72px; }
    .grid-3x2 { grid-template-columns: repeat(2,1fr); }
    .grid-4x2 { grid-template-columns: repeat(2,1fr); }
    .center-image { width: 90%; height: 300px; }
    .carousel { height: 300px; }
    .hero-message { font-size: 28px; text-align: center; padding: 0 10px; }
  }

  @media (max-width:600px){
    .grid-3x2, .grid-4x2 { grid-template-columns: 1fr; }
    .carousel { height: 240px; }
    .hero-message { font-size: 22px; }
    .final-form label { font-size: 18px; margin-left: 0; }
    .final-form input[type="email"] { width: 200px; }
  }


/* -------------------------------
   MOBILE VISIBILITY & SIZING FIXES
   Append at the very bottom
----------------------------------*/

/* 1) On phones, force sections visible even if the IntersectionObserver
   doesn’t add .active (prevents everything from being "invisible"). */
@media (max-width: 600px) {
  section {
    opacity: 1 !important;
    transform: none !important;
    pointer-events: auto !important;
  }
}

/* 2) Ensure the two setup images always have height on phones */
@media (max-width: 600px) {
  .two-images {
    flex-direction: column;
    gap: 14px;
  }
  .two-images .img {
    /* Give them a responsive height that fits small screens */
    height: min(55vw, 280px);
    min-height: 180px;
  }
}

/* 3) Make grid cards keep a visible, responsive area for the background-image
   on phones so the images don’t collapse */
@media (max-width: 600px) {
  .grid {
    gap: 14px;
  }

  /* Single column on phones is fine, but rows must have room */
  .grid-3x2,
  .grid-4x2 {
    grid-template-columns: 1fr;
    grid-auto-rows: auto; /* let height be determined by content */
  }

  /* The card itself should size to its content */
  .card {
    padding: 10px;
  }

  /* The thumb is the visible image area: give it a healthy min-height */
  .card .thumb {
    width: 100%;
    /* Use aspect-ratio so backgrounds scale nicely without overflow */
    aspect-ratio: 4 / 3;
    height: auto;               /* height driven by aspect ratio */
    min-height: 180px;          /* safety floor on very small screens */
    background-size: contain;   /* keep full image in view */
    background-position: center;
    background-repeat: no-repeat;
  }
}

/* 4) Keep a little more breathing room below section titles
   (helps separate titles from assets on small screens too) */
@media (max-width: 900px) {
  /* First content blocks under titles get extra top margin */
  #setup .two-images,
  #testimonials .carousel,
  #value .grid,
  #tech .grid {
    margin-top: 56px;
  }


  /* ====== Setup section mobile fix (append at end) ====== */

/* 1) On smaller screens, ensure the SETUP section is visible even if the observer
      hasn’t added .active yet (prevents it being transparent on phones). */
@media (max-width: 900px) {
  #setup {
    opacity: 1 !important;
    transform: none !important;
    pointer-events: auto !important;
  }
}

/* 2) Make the two setup images stack vertically and guarantee a visible, responsive height */
@media (max-width: 900px) {
  #setup .two-images {
    flex-direction: column;
    gap: 14px;
    width: 100%;
  }

  #setup .two-images .img {
    /* Responsive height: scales with viewport width, with sane limits */
    aspect-ratio: 16 / 10;   /* gives a nice shallow rectangle */
    width: 100%;
    height: auto;            /* let aspect-ratio control height */
    min-height: 180px;       /* safety floor for very small phones */

    /* Make sure the background image is fully visible */
    background-size: contain;
    background-position: center center;
    background-repeat: no-repeat;

    /* Optional: subtle backdrop so you can “see” the image box even if the image has transparency */
    background-color: #232424;
  }
}

/* 3) Add breathing room between the Setup title and the images on all screens */
#setup .two-images {
  margin-top: 60px;
}

}




</style>


</head>
<body>
<header>
  <nav class="menu" aria-label="Site">
    <a href="#home">Home</a>
    <a href="#setup">Setup</a>
    <a href="#technology">Technology</a>
    <a href="#value">Value</a>
    <a href="#states">Deployment</a>
    <a href="#tech">Core Technology</a>
    <a href="#contact">Contact</a>
  </nav>

  <!-- Logo placeholder (top-right) -->  
   <div class="logo-spot">
    <img src="assets/logo.png" alt="Company Logo">
</div>
</header>

<main>
  <!-- Home / full-bleed image -->
  <section id="home" class="hero active" data-section>
    <div class="hero-image image-a"></div>
    <div class="hero-image image-b"></div>
    <div class="hero-message">More than just a machine</div>
  </section>

  <!-- Setup & Deployment -->
  <!-- <section id="setup" data-section>
  <div class="section-title" id="setupTitle">Setup</div>

  <div class="two-images">
    <div class="img img1" style="background-image:url('assets/setup3.png');"></div>
    <div class="img img2" style="background-image:url('assets/setup2.png');"></div>
  </div> -->

  <section id="setup" data-section>
    <div class="section-title">Setup &amp; Deployment Process</div>
    <div class="two-images">
      <div class="img" style="background-image:url('assets/setup1.png');"></div>
      <div class="img" style="background-image:url('assets/setup2.png');"></div>
    </div>
      <a class="setup-button" href="http://ui.hirehenry.ai/" target="_blank" rel="noopener">Login</a>
</section>


  <!-- Technology -->
  <section id="technology" data-section>
  <div class="section-title">Technology</div>

  <div class="carousel" aria-roledescription="carousel">
    <!-- Slides go in here -->
    <div class="slides">
      <!-- Slide 1: VIDEO -->
      <div class="slide" data-title="UI Demo">
        <video autoplay muted loop playsinline
               style="width:100%; height:100%; border-radius:10px; object-fit:contain;">
          <source src="assets/tec_ui.mp4" type="video/mp4">
        </video>
      </div>

      <!-- Slide 2: IMAGE -->
      <div class="slide" data-title="Computer Vision">
        <div class="img" style="background-image:url('assets/cv_seg2.png');"></div>
      </div>

      <!-- Slide 3: IMAGE -->
      <div class="slide" data-title="Hardware">
        <div class="img" style="background-image:url('assets/h3.jpg');"></div>
      </div>
    </div>

    <!-- Single overlay title (top-left of the carousel) -->
    <div class="carousel-title" id="carouselTitle"></div>

    <div class="carousel-nav">
      <button id="prevCar" aria-label="Previous">‹</button>
      <button id="nextCar" aria-label="Next">›</button>
    </div>
    <div class="carousel-controls" id="dots"></div>
  </div>
</section>


  <!-- Value Delivered -->
  <section id="value" data-section>
    <div class="section-title">Value Delivered</div>
    <div class="grid grid-3x2" id="valueGrid">
      <!-- six cards -->
      <div class="card" data-title="SUSTAINABILITY & NOISE" data-desc="While many organizations are developing ESG plans,
       one large source of greenhouse gas emissions is oftentimes left out of planning --
        outdoor power equipment. We are interested in how organizations are preparing maintenance departments for a sustainable future.">
        <div class="thumb" style="background-image:url('assets/sustanability.png');"></div>
        <div class="caption">SUSTAINABILITY &amp; NOISE</div>
      </div>
      <div class="card" data-title="SAFETY" data-desc="The nature of grounds maintenance requires workers to operate in potentially dangerous environments. 
       We are interested in what the future of grounds maintenance safety may look like for our partner organizations, and its workers.
       To this end, we facilitate conversations, request data, and analyze reports; ultimately providing insights based on our experience working with autonomous technology.">
        <div class="thumb" style="background-image:url('assets/safety.png');"></div>
        <div class="caption">SAFETY</div>
      </div>
      <div class="card" data-title="JOB CREATION" data-desc="There's no surprise that top talent can be hard to recruit and retain. 
      We are interested in how autonomous technology and artificial intelligence (AI) can, 
      and likely will, impact seemingly disconnected parts of our partner organization’s labor pool.">
        <div class="thumb" style="background-image:url('assets/job.png');"></div>
        <div class="caption">JOB CREATION</div>
      </div>
      <div class="card" data-title="NEWS MEDIA" data-desc="Leaders in innovation are oftentimes focused on being stewards of knowledge and helping industry to establish best-in-class practices. 
      To accomplish this goal, organizations present at conferences, publish articles, conduct interviews with news outlets, and showcase innovations of their websites.
       We are interested in ways that autonomous technology can help progress these goals.">

        <div class="thumb" style="background-image:url('assets/news.png');"></div>
        <div class="caption">NEWS MEDIA</div>
      </div>
      <div class="card" data-title="TECHNOLOGY LEADERSHIP" data-desc="The department of innovation is essential for startups to understand how partner organizations operate. 
      This area is interested in understanding what business models and technologies, departments of innovation are most excited about, and what the department has learned migrating successful pilots to real-world use cases for their organizations, in hopes of extrapolating that data for autonomous robotic companies and products.">
        <div class="thumb" style="background-image:url('assets/tec_iso.png');"></div>
        <div class="caption">TECHNOLOGY LEADERSHIP</div>
      </div>
      <div class="card" data-title="PRODUCTIVITY" data-desc="The most impactful value of autonomous mowing technology very well could be increases in productivity and efficiency.
       We are interested in understanding how maintenance teams currently track, and improve, productivity -- particularly while addressing limited resources. Further, as fully electric, autonomous, robotic lawn mowers continue to grow in popularity, there will be increased importance on how equipment will be integrated within operations and organization at large.
       Our goal is to help provide some insight as to what a plan like this might entail.">
        <div class="thumb" style="background-image:url('assets/task_iso.png');"></div>
        <div class="caption">PRODUCTIVITY</div>
      </div>
    </div>
    
  </section>

  <!-- States In Operation -->
  <section id="states" data-section>
    <div class="section-title">Deployment Sites</div>
    <div style="display:flex;align-items:center;justify-content:center;width:100%;">
      <div class="center-image" style="background-image:url('assets/state.png');"></div>
    </div>
  </section>

  <!-- Core Technology -->
  <section id="tech" data-section>
    <div class="section-title">Core Technology</div>
    <div class="grid grid-4x2" id="techGrid">
      <!-- eight cards -->
      <!-- add attributes with title/desc for modals -->
      <div class="card" data-title="GPS Localization" data-desc="Robots rely on GPS/GNSS for precise navigation, using satellite signals to determine their location, speed, and movement. 
      This technology enables autonomous systems to operate efficiently in outdoor environments, from agriculture to defense. ">
        <div class="thumb" style="background-image:url('assets/loc.png');"></div>
        <div class="caption">GPS Localization</div>
      </div>
      <div class="card" data-title="Computer Vision" data-desc="Robots use computer vision to interpret their surroundings, enabling tasks like object detection and navigation. 
      This technology enhances autonomy across industries, from manufacturing to security. We are interested in how organizations apply computer vision to improve robotic efficiency.">
        <div class="thumb" style="background-image:url('assets/cv.png');"></div>
        <div class="caption">Computer Vision</div>
      </div>
      <div class="card" data-title="Obstacle Mapping" data-desc="Robots use obstacle mapping to navigate safely by detecting and avoiding hazards. 
      This technology improves autonomy across industries. We are interested in how organizations utilize obstacle mapping in robotics.">
        <div class="thumb" style="background-image:url('assets/grid.png');"></div>
        <div class="caption">Obstacle Mapping</div>
      </div>
      <div class="card" data-title="Autonomy" data-desc="Robots achieve autonomy through AI and sensors, enabling independent operation. 
      We are interested in how organizations enhance robotic autonomy for efficiency">
        <div class="thumb" style="background-image:url('assets/autonomy.png');"></div>
        <div class="caption">Autonomy</div>
      </div>

      <div class="card" data-title="Obstacle Avoidance" data-desc="Robots use obstacle avoidance to navigate safely by detecting and responding to hazards. 
      This technology enhances autonomy and efficiency. We are interested in how organizations implement obstacle avoidance in robotics.">
        <div class="thumb" style="background-image:url('assets/avoid.png');"></div>
        <div class="caption">Obstacle Avoidance</div>
      </div>
      <div class="card" data-title="Mobile App" data-desc="Robots use mobile apps for remote control, monitoring, and data analysis. 
      This technology improves user interaction and efficiency. We are interested in how organizations leverage mobile apps for robotics.">
        <div class="thumb" style="background-image:url('assets/mobile_iso.png');"></div>
        <div class="caption">Mobile App</div>
      </div>
      <div class="card" data-title="Autonomy Tuning" data-desc="Robots use autonomy tuning to adjust behavior for optimal performance in various environments. 
      This technology enhances efficiency and adaptability. We are interested in how organizations refine autonomy tuning in robotics.">
        <div class="thumb" style="background-image:url('assets/tuning.png');"></div>
        <div class="caption">Autonomy Tuning</div>
      </div>
      <div class="card" data-title="Core Communication" data-desc="Robots rely on core communication to exchange data and commands with other systems. 
      This technology ensures seamless operation and coordination. We are interested in how organizations implement core communication in robotics.">
        <div class="thumb" style="background-image:url('assets/core.png');"></div>
        <div class="caption">Core Communication</div>
      </div>
    </div>
  </section>



  <!-- Demo request section -->
  <section id="contact" class="final" data-section>
    <!-- Background image -->
    <div class="final-image" style="background-image:url('assets/demo.png');" aria-hidden="true"></div>

    <!-- Decorative background square -->
    <div class="final-overlay"></div>

    <!-- Email request form -->
    <form class="final-form" name="demo-request" method="POST" data-netlify="true" netlify-honeypot="bot-field" id="demoForm">
      <input type="hidden" name="form-name" value="demo-request" />
      <label for="email">Request a Demo:</label>

      <div class="input-row">
        <input type="email" id="email" name="email" placeholder="Enter your email" required>
        <button type="submit">Submit</button>
      </div>

      <!-- hidden anti-bot field -->
      <p style="display:none">
        <label>Don’t fill this out if you’re human: <input name="bot-field" /></label>
      </p>
    </form>

    <!-- thank you message (hidden by default) -->
    <div id="thankYouMessage" style="display:none; margin-top:15px; font-weight:bold; color:green;">
      ✅ Thanks! We’ll be in touch.
    </div>

  </section>


</main>

<!-- Modal -->
<!-- <div id="modal" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal" role="document">
    <h3 id="modalTitle">Title</h3>
    <p id="modalDesc">Description</p>
    <button class="close" id="closeModal">Close</button>
  </div>
</div> -->

<script>




window.addEventListener('DOMContentLoaded', () => {
  const images = [
    'assets/home1.png',
    'assets/home2.png',
    'assets/home3.png',
    'assets/home4.png'
  ];

  const msg = document.querySelector('.hero-message');
  const [imgA, imgB] = document.querySelectorAll('.hero-image');
  let idx = 0;
  let showingA = true;

  function cycle() {
    const nextImg = images[idx];
    const isLast = (idx === images.length - 1);

    if (showingA) {
      imgB.style.backgroundImage = `url('${nextImg}')`;
      imgB.classList.add('show');
      imgA.classList.remove('show');
    } else {
      imgA.style.backgroundImage = `url('${nextImg}')`;
      imgA.classList.add('show');
      imgB.classList.remove('show');
    }

    // message only on last image
    msg.classList.toggle('show', isLast);

    showingA = !showingA;
    idx = (idx + 1) % images.length;
  }

  // init first image
  imgA.style.backgroundImage = `url('${images[0]}')`;
  imgA.classList.add('show');
  idx = 1;

  // loop every 4s
  setInterval(cycle, 4000);
});

/* Smooth section visibility via IntersectionObserver */
(function(){
  const sections = document.querySelectorAll('section[data-section]');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if(entry.intersectionRatio > 0.5){
        entry.target.classList.add('active');
      } else {
        entry.target.classList.remove('active');
      }
    });
  }, {threshold: [0, 0.25, 0.5, 0.75, 1]});
  sections.forEach(s => observer.observe(s));
})();

// Setup & Deployment cycle
// (function(){
//   const section = document.querySelector("#setup");
//   const title = document.getElementById("setupTitle");
//   const img1 = section.querySelector(".img1");
//   const img2 = section.querySelector(".img2");

//   let state = 0; // 0=setup, 1=deployment
//   let loop;

//   function cycle(){
//     if(state === 0){
//       title.textContent = "1. Setup";
//       img1.classList.add("show");
//       img2.classList.remove("show");
//     } else {
//       title.textContent = "2. Deployment";
//       img1.classList.remove("show");
//       img2.classList.add("show");
//     }
//     state = (state + 1) % 2;
//   }

//   // Observe when the section enters view
//   const observer = new IntersectionObserver((entries)=>{
//     entries.forEach(entry=>{
//       if(entry.isIntersecting){
//         cycle();
//         loop = setInterval(cycle, 4000); // every 4s
//       } else {
//         clearInterval(loop);
//       }
//     });
//   }, {threshold:0.5});
//   observer.observe(section);
// })();


(function(){
  const slidesWrap = document.querySelector('.slides');
  const slides = document.querySelectorAll('.slide');
  const dotsWrap = document.getElementById('dots');
  const prev = document.getElementById('prevCar'), next = document.getElementById('nextCar');
  const titleEl = document.getElementById('carouselTitle'); // NEW
  let idx = 0;

  function getTitle(i){ // NEW
    const s = slides[i];
    // Prefer data-title; fall back to the slide's caption text if present
    return s.dataset.title || (s.querySelector('.caption')?.textContent || '');
  }

  function updateTitle(){ // NEW
    if (titleEl) titleEl.textContent = getTitle(idx);
  }

  function renderDots(){
    dotsWrap.innerHTML = '';
    slides.forEach((s,i)=>{
      const d = document.createElement('div');
      d.className='dot' + (i===idx? ' active' : '');
      d.addEventListener('click',()=>goto(i));
      dotsWrap.appendChild(d);
    });
  }

  function goto(i){
    idx = (i + slides.length) % slides.length;
    slidesWrap.style.transform = `translateX(${-idx*100}%)`;
    renderDots();
    handleVideoPlayback();
    updateTitle(); // NEW
  }

  prev.addEventListener('click',()=>goto(idx-1));
  next.addEventListener('click',()=>goto(idx+1));
  renderDots();

  let auto = setInterval(()=>goto(idx+1), 4500);
  const carousel = document.querySelector('.carousel');
  carousel.addEventListener('mouseenter', ()=> clearInterval(auto));
  carousel.addEventListener('mouseleave', ()=> auto = setInterval(()=>goto(idx+1), 4500));

  function handleVideoPlayback(){
    slides.forEach((s,i)=>{
      const v = s.querySelector('video');
      if(!v) return;
      if(i === idx){ v.play().catch(()=>{}); }
      else { v.pause(); v.currentTime = 0; }
    });
  }

  // Initial title
  updateTitle(); // NEW
})();



/* Hook up external links (data-link) on buttons so user can set it via attribute */
document.querySelectorAll('[data-link]').forEach(el=>{
  el.addEventListener('click', (e)=>{
    // allow default if href present; otherwise open link
    const link = el.getAttribute('data-link');
    if(link && (!el.getAttribute('href') || el.getAttribute('href') === '#')){
      e.preventDefault();
      window.open(link, '_blank', 'noopener');
    }
  });
});

/* Technology carousel basic implementation */
(function(){
  const slidesWrap = document.querySelector('.slides');
  const slides = document.querySelectorAll('.slide');
  const dotsWrap = document.getElementById('dots');
  const prev = document.getElementById('prevCar'), next = document.getElementById('nextCar');
  let idx = 0;

  function renderDots(){
    dotsWrap.innerHTML = '';
    slides.forEach((s,i)=>{
      const d = document.createElement('div');
      d.className='dot' + (i===idx? ' active' : '');
      d.addEventListener('click',()=>{goto(i)});
      dotsWrap.appendChild(d);
    });
  }
  function goto(i){
    idx = (i + slides.length) % slides.length;
    slidesWrap.style.transform = `translateX(${-idx*100}%)`;
    renderDots();
  }
  prev.addEventListener('click',()=>goto(idx-1));
  next.addEventListener('click',()=>goto(idx+1));
  renderDots();
  // auto-advance
  let auto = setInterval(()=>{goto(idx+1)}, 4500);
  // pause on hover
  const carousel = document.querySelector('.carousel');
  carousel.addEventListener('mouseenter', ()=> clearInterval(auto));
  carousel.addEventListener('mouseleave', ()=> auto = setInterval(()=>{goto(idx+1)}, 4500));
})();

/* Modal for cards (Value delivered and Tech) */
// (function(){
//   const modal = document.getElementById('modal');
//   const title = document.getElementById('modalTitle');
//   const desc = document.getElementById('modalDesc');
//   const close = document.getElementById('closeModal');

//   function openModal(t,d){
//     title.textContent = t || 'Details';
//     desc.textContent = d || '';
//     modal.classList.add('open');
//     modal.setAttribute('aria-hidden','false');
//   }
//   function closeModal(){
//     modal.classList.remove('open');
//     modal.setAttribute('aria-hidden','true');
//   }
//   close.addEventListener('click', closeModal);
//   modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModal(); });

//   document.querySelectorAll('.card').forEach(card=>{
//     card.addEventListener('click', ()=>{
//       const t = card.dataset.title || card.querySelector('.caption')?.textContent;
//       const d = card.dataset.desc || 'More info about ' + (t || 'item');
//       openModal(t,d);
//     });
//   });
// })();

// Modal for cards (Value delivered and Tech)
(function(){
  let activeBubble = null;
  let activeCard = null;

  function toggleBubble(card) {
    // Toggle off if same card clicked
    if (activeCard === card && activeBubble) {
      activeBubble.remove();
      activeBubble = null;
      activeCard = null;
      return;
    }

    // Remove old bubble
    if (activeBubble) {
      activeBubble.remove();
      activeBubble = null;
      activeCard = null;
    }

    // Create new bubble
    const bubble = document.createElement('div');
    bubble.className = 'bubble';
    bubble.textContent = card.dataset.desc || '';

    document.body.appendChild(bubble);

    // Position relative to viewport
    const rect = card.getBoundingClientRect();
    const bubbleRect = bubble.getBoundingClientRect();

    const top = rect.top + window.scrollY - bubbleRect.height - 14; // above card
    const left = rect.left + window.scrollX + rect.width/2 - bubbleRect.width/2; // center

    bubble.style.top = `${top}px`;
    bubble.style.left = `${left}px`;

    activeBubble = bubble;
    activeCard = card;
  }

  // Attach to all cards in both grids
  document.querySelectorAll('#valueGrid .card, #techGrid .card').forEach(card => {
    card.addEventListener('click', () => toggleBubble(card));
  });

  // Optional: click outside closes bubble
  document.addEventListener('click', (e) => {
    if (activeBubble && !e.target.closest('.card')) {
      activeBubble.remove();
      activeBubble = null;
      activeCard = null;
    }
  });
})();

/* Link menu anchors to smooth scroll and highlight */
document.querySelectorAll('header .menu a').forEach(a=>{
  a.addEventListener('click', (e)=>{
    const href = a.getAttribute('href');
    if(href && href.startsWith('#')){
      e.preventDefault();
      const el = document.querySelector(href);
      if(el) el.scrollIntoView({behavior:'smooth'});
    }
  });
});

/* Accessibility: close modal with Esc */
document.addEventListener('keydown', (e)=>{
  if(e.key === 'Escape'){
    const modal = document.getElementById('modal');
    if(modal.classList.contains('open')) modal.classList.remove('open');
  }
});
</script>
</body>
</html>
